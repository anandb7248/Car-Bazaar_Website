<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE HTML>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
	<h:head>
		<title>My Listings</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
                <link href="./resources/css/home.css" rel="stylesheet" type="text/css"/>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
                <!-- Scripts -->
		<script src="./js/jquery.min.js"></script>
		<script src="./js/jquery.scrollex.min.js"></script>
		<script src="./js/skel.min.js"></script>
		<script src="./js/util.js"></script>
		<script src="./js/main.js"></script>
	</h:head>
	<body>
	<!-- Header -->
	<!-- class="alt" -->
            <header id="header" style="background-color: #000">
                <div class="logo"><h:link value="Car Bazaar" outcome="home"/> <span>by ADTW</span></div>            
		<a href="#menu">Menu</a>
            </header>

            <!-- Nav -->
            <nav id="menu">
		<ul class="links">
                    <li><h:link value="Home" outcome="home"/></li>
                    <li><h:link value="Buy a car" outcome="buy"/></li>
                    <li><h:link value="Sell your car" outcome="sell"/></li>
                    <li><h:link value="My Listings" outcome="listing"/></li>
                    <li><h:link value="Settings" outcome="setting"/></li>
                    <li><h:link value="Logout" outcome="account"/></li>
                </ul>
            </nav>
            
            <div style="margin-top: 55px;">
                <h:form id="carForm">
                    <p:dataGrid var="listing" value="#{buy.updateMyListingsPage()}" columns="3" rows="9" 
                                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}" 
                                paginator="true"
                                id="mylistings">                       
                        <p:panel header="#{listing.id}" style="text-align:center">
                            <h:panelGrid columns="1" style="width:100%">
                                <img src="#{listing.url}" height="200" width="300"/> 
                                <h:outputText value="#{listing.year} #{listing.make} #{listing.model}
                                    &lt;br&gt; Price: #{listing.price}
                                    &lt;br&gt; Description: #{listing.description}" escape="false"/>                                          
                                        <h:link value="View Listing" outcome="listingDetail">
                                            <f:param name="id" value="#{listing.id}" />
                                        </h:link>
                            </h:panelGrid>
                        </p:panel>
                    </p:dataGrid>
                </h:form>
            </div>            
	</body>
</html>


